<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Model Railroad Dispatcher</title>
        <link rel="stylesheet" href="../style.css"> <!-- Link to external CSS file -->
    </head>
    <body>
        <header>
            <h1>Thomas Cridland</h1>
        </header>

        <nav>
            <ul class="tab-links">
                <li><a href="../projects.html">Back to Projects</a></li>
            </ul>
        </nav>
        <div class="container">
            <div id="project1" class="tab-content">
                <h2><a class="header-text">Model Railroad Dispatcher</a></h2>
                <hr>
                <p>
                    Welcome to my personal challenge: creating my own centralized dispaching system used for my model trains. When it came to seeing and managing what occurs on a train layout, I wanted all of my controls in one spot for ease of use. To do so, I had to create my own program, taking into account what I needed and what was feasable as a single developer.
                </p>
                <hr>
                <h2><a class="header-text">Plan</a></h2>
                <p>
                    In order for software to communicate with hardware in an efficient manner, I planned to create a hierarchical master/slave setup. The following diagram highlights this hierarchy. The computer on which this program is running on sits on the top of this hierarchy as the main brains of the system, taking all information and making decisions based on it. 
                </p>
                <div class="project-page-center-image">
                    <img src="../assets/project-page-media/model-railroad-hardware/hierarchy-chart.png" style="width: 80%; height: auto;" alt="TempThumbnail">
                </div>
                <p>
                    Falling directly underneath the software is the Master Arduino, acting as the main "valve" of the network. All messages traveling to and from the layout pass throug this device. I use a LCD screen to display all communication traveling through the board for debugging purposes. Additionally, if an error in a serial message packet were to occur, this Master Arduino will catch the incorrect message and shut the "valve" off, preventing that message from being misinterpreted down the line.
                </p>
                <p>
                    Finally, the Slave Arduinos sit at the bottom of the hierarchy. These Arduinos are daisy chained together, allowing a message sent from the computer to be passed to each Slave Arduino in hopes of reaching its proper recipient. A region on the model railroad is assigned to a single Slave Arduino, which controls its signals, switches, and other peripherals. Each Slave Arduino has a name, acting as the "MAC address" for a packet of information to be sent to.
                </p>
                <div class="goal-challenges-grid-container">
                    <div class="grid-element">
                        <h2><a class="header-text">Goal</a></h2>
                        <p>
                            d
                        </p>
                    </div>
                    <div class="grid-element">
                        <h2><a class="header-text">Challenges</a></h2>
                        <p>
                            challenge
                        </p>
                        <ul>
                            <li>Servo jitter due to a noisy ground</li>
                        </ul>
                        <p>
                            My biggest point of failure occured with the servos. These SG90 servos are able to draw high currents under load, such as when a servo may be trying to turn further than a switch will allow it to. The mistake I made was powering them off of the 5V supply from their assigned Arduino Nano. At one point the current draw of these servos exceeded the regulated value for the Arduino, causing the onboard voltage regulator to burn up and render the board useless. 
                        </p>
                        <p>
                            After this occured, I made it top priority to regulate appropriate current draws from the Arduino and connect the servos to a seperate 12V 5A power bus. 
                        </p>
                    </div>
                </div>
                <hr>
                <h3><a class="header-text">Resources Used</a></h3>
                <div class="resource-icon-container">
                    <div class="grid-element">
                        <div class="resource-icon">
                            <img src="../assets/resource-icons/java-icon.png" alt="TempThumbnail">
                        </div>
                    </div>
                    <div class="grid-element">
                        <div class="resource-icon">
                            <img src="../assets/resource-icons/arduino-icon.png" alt="TempThumbnail">
                        </div>
                    </div>
                    <div class="grid-element">
                        text
                    </div>
                    <div class="grid-element">
                        text
                    </div>
                </div>
                <hr>
                <h2><a class="header-text">Related Projects</a></h2>
                <hr>
            </div>
        </div>

        <footer>
            <p>&copy; 2024 My Portfolio. All rights reserved.</p>
        </footer>
    </body>
</html>